(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{119:function(e,t,a){},146:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(13),s=a.n(c),i=(a(119),a(7)),o=a(29),l=a(16),u=a(209),d=a(101),j=Object(d.a)({typography:{useNextVariants:!0,fontFamily:["Roboto Condensed","sans-serif"].join(",")}}),b=a(12),p=a.n(b),h=a(19),O=a(22),m=a(203),f=a(187),x=a(68),v=a(197),g=a(186),y=a(188),k=a(102),T=a(213),N=a(189),w=a(214),C=a(190),S=a(192),E=a(193),_=a(194),I=a(196),D=a(215),A=a(191),L=a(195),B=a(180),W=a(211),z=a(210),H=a(2);var F=function(e){var t=e.label,a=e.value,n=e.onChange,r=e.options,c=e.className,s=e.name;return Object(H.jsxs)(B.a,{size:"small",variant:"outlined",fullWidth:!0,className:c,children:[Object(H.jsx)(W.a,{htmlFor:"outlined-age-native-simple",children:t}),Object(H.jsx)(z.a,{value:a,onChange:n,label:t,inputProps:{name:s,id:"outlined-".concat(s,"-native-simple")},children:r.map((function(e,t){return Object(H.jsx)(T.a,{value:e.value,children:e.label},t)}))})]})},R="TOKEN",G=[{label:"Text",value:"Text"},{label:"Image",value:"Image"},{label:"Video",value:"Video"}],K=[{label:"TODO",value:"TODO"},{label:"DOING",value:"DOING"},{label:"DONE",value:"DONE"}];function U(e){var t="";return e.split(" ").forEach((function(e){t+=e[0]})),t}var M=Object(g.a)((function(e){return{root:{maxWidth:345,marginBottom:8},media:{height:100,paddingTop:"56.25%"},input:{marginBottom:8},spaceBottom:{marginBottom:12},avatar:{background:"black",color:"white"}}})),J=a(148),P=a(66),V=Object(J.a)({avatar:{backgroundColor:P.a[500]},root:{marginBottom:8}});var q=function(e){var t=e.user,a=e.data,n=V();return Object(H.jsxs)(f.a,{container:!0,justify:"flex-start",className:n.root,children:[Object(H.jsx)(f.a,{item:!0,md:3,sm:3,xs:3,children:Object(H.jsx)(w.a,{"aria-label":"recipe",className:n.avatar,children:U(t.name)})}),Object(H.jsx)(f.a,{item:!0,md:9,sm:9,xs:9,children:Object(H.jsx)(x.a,{paragraph:!0,children:a})})]})},Q=a(4);var X=function(e){var t=e.user,a=e.type,c=e.data,s=e.users,o=e.updatedAt,l=e.deleteTask,u=e._id,d=e.assignedUser,j=e.status,b=e.createComment,m=e.loadComments,f=e.editTask,g=e.deleted,B=M(),W=r.a.useState(!1),z=Object(O.a)(W,2),R=z[0],G=z[1],J=r.a.useState(""),P=Object(O.a)(J,2),V=P[0],X=P[1],Y=r.a.useState([]),Z=Object(O.a)(Y,2),$=Z[0],ee=Z[1],te=r.a.useState(null),ae=Object(O.a)(te,2),ne=ae[0],re=ae[1],ce=r.a.useState(""),se=Object(O.a)(ce,2),ie=se[0],oe=se[1],le=r.a.useState(""),ue=Object(O.a)(le,2),de=ue[0],je=ue[1];if(Object(n.useEffect)((function(){""===de&&d&&je(d._id),""===ie&&j&&oe(j)}),[de,je,d,oe,j,ie]),0===Object.keys(e).length)return null;var be=function(){var e=Object(h.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(R){e.next=5;break}return e.next=3,m(u);case 3:t=e.sent,ee(t);case 5:G(!R);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),pe=function(){return re(null)},he=function(){var e=Object(h.a)(p.a.mark((function e(){var t,a,n,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("TOKEN"),a=JSON.parse(t),n=a.user,e.next=4,b({user:n._id,data:V,task:u});case 4:return e.next=6,m(u);case 6:r=e.sent,ee(r);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(H.jsxs)(y.a,{className:B.root,children:[Object(H.jsx)(k.a,{id:"simple-menu",anchorEl:ne,keepMounted:!0,open:Boolean(ne),onClose:pe,children:Object(H.jsx)(T.a,{onClick:function(){l({_id:u}),pe()},children:"Delete"})}),Object(H.jsx)(N.a,{avatar:Object(H.jsx)(w.a,{"aria-label":"recipe",className:B.avatar,children:U(t.name)}),action:g?null:Object(H.jsx)(C.a,{"aria-label":"settings",onClick:function(e){return re(e.currentTarget)},children:Object(H.jsx)(A.a,{})}),title:t.name,subheader:new Date(o).toLocaleString()}),"Video"===a?Object(H.jsx)(S.a,{component:"iframe",autoPlay:!1,src:c}):"Image"===a?Object(H.jsx)(S.a,{className:B.media,image:c}):Object(H.jsx)(x.a,{variant:"h3",style:{textAlign:"center"},children:c}),Object(H.jsxs)(E.a,{children:[Object(H.jsx)(F,{value:ie,label:"Status",disabled:g,className:B.input,options:g?[{label:ie,value:ie}]:K,onChange:function(e){var t=e.target.value;oe(t),f({_id:u,status:t,assignedUser:d})}}),Object(H.jsx)(F,{value:de,disabled:g,label:"Assigned User",className:B.input,options:g?[{label:d.name,value:d._id}]:s.data,onChange:function(e){var t=e.target.value;je(t),f({_id:u,status:j,assignedUser:t})}}),g&&Object(H.jsx)(x.a,{style:{color:"red"},variant:"subtitle1",children:"Deleted"})]}),Object(H.jsx)(_.a,{disableSpacing:!0,children:Object(H.jsxs)(C.a,{onClick:be,"aria-label":"Comment",children:[Object(H.jsx)(L.a,{}),Object(H.jsx)(x.a,{variant:"subtitle1",children:"Comments"})]})}),Object(H.jsx)(I.a,{in:R,timeout:"auto",unmountOnExit:!0,children:Object(H.jsxs)(E.a,{children:[Object(H.jsx)(D.a,{className:B.input,fullWidth:!0,label:"Comment",value:V,onChange:function(e){return X(e.target.value)},variant:"outlined",size:"small"}),Object(H.jsx)(v.a,{onClick:he,className:Object(Q.a)(B.input,B.spaceBottom),fullWidth:!0,variant:"contained",size:"small",color:"primary",children:"Comment"}),$&&$.map((function(e){return Object(n.createElement)(q,Object(i.a)(Object(i.a)({},e),{},{key:e._id}))}))]})})]})},Y=a(147),Z=a(198),$=a(21),ee=Object(g.a)((function(e){return{backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"}}}));var te=Object($.b)((function(e){return{loading:e.loading}}))((function(e){var t=e.loading,a=e.open,n=ee();return Object(H.jsx)("div",{children:Object(H.jsx)(Y.a,{className:n.backdrop,open:t||a||!1,children:Object(H.jsx)(Z.a,{color:"inherit"})})})})),ae=a(216),ne=a(199),re=a(97),ce=a.n(re),se=a(200),ie=Object(J.a)({message:{display:"flex",alignItems:"center"},success:{background:"green",display:"flex"},danger:{background:"red",display:"flex"}}),oe=function(e){var t=e.open,a=e.onClose,n=e.type,r=e.text,c=ie();return Object(H.jsx)(ae.a,{anchorOrigin:{vertical:"bottom",horizontal:"center"},autoHideDuration:3e3,onClose:a,open:t,children:Object(H.jsx)(ne.a,{className:"ok"===n?c.success:c.danger,message:Object(H.jsxs)("span",{style:{display:"flex"},children:["ok"===n?Object(H.jsx)(ce.a,{className:"mr-3"}):Object(H.jsx)(se.a,{className:"mr-3"}),r]}),variant:"elevation"})})},le="http://localhost:8000/api",ue="SHOW_MESSAGE",de="CLOSE_MESSAGE",je="START_LOADING",be="STOP_LOADING",pe="DELETE_TASK",he="SET_TASK",Oe="DO_LOGIN",me="DO_LOGOUT",fe="SET_USERS",xe=function(e,t){return t({type:be}),e.response&&console.log(e.response.data),e.response&&e.response.data&&e.response.data.data?t({type:ue,payload:{type:"error",text:e.response.data.data}}):t({type:ue,payload:{type:"error",text:e.message}})},ve=function(){var e=localStorage.getItem("TOKEN");return e?JSON.parse(e).token:""},ge=a(83),ye=a.n(ge),ke=a(36),Te=a(201),Ne=a(202),we=Object(J.a)({root:{borderRadius:8,width:"100%"},input:{marginBottom:8}});var Ce=function(e){var t=e.open,a=e.onClose,r=e.createTask,c=e.users,s=we(),o=Object(n.useState)({type:"Text",data:"",user:""}),l=Object(O.a)(o,2),u=l[0],d=l[1],j=function(e){var t,a=e.target.name;if("type"===a)return d(Object(i.a)(Object(i.a)({},u),{},(t={},Object(ke.a)(t,a,e.target.value),Object(ke.a)(t,"data",""),t)));d(Object(i.a)(Object(i.a)({},u),{},Object(ke.a)({},a,e.target.value)))};return Object(H.jsx)(Te.a,{open:t,fullWidth:!0,maxWidth:"xs",onClose:a,children:Object(H.jsxs)(y.a,{className:s.root,children:[Object(H.jsx)(N.a,{title:"Create new task"}),Object(H.jsx)(Ne.a,{}),Object(H.jsxs)(E.a,{children:[Object(H.jsx)(F,{label:"Task type",value:u.type,name:"type",onChange:j,options:G,className:s.input}),"Text"===u.type?Object(H.jsx)(D.a,{name:"data",className:s.input,fullWidth:!0,value:u.data,variant:"outlined",size:"small",type:"text",label:"Enter Task",onChange:j}):Object(H.jsxs)(v.a,{variant:"outlined",component:"label",fullWidth:!0,className:s.input,children:[u.data?u.data.name:"Select File",Object(H.jsx)("input",{type:"file",name:"data",accept:"Video"===u.type?"video/*":"image/*",onChange:function(e){var t=e.target.files[0];d(Object(i.a)(Object(i.a)({},u),{},{data:t}))},hidden:!0})]}),Object(H.jsx)(F,{label:"Assign user",value:u.user,name:"user",onChange:j,options:c,className:s.input}),Object(H.jsx)(v.a,{onClick:function(){r(u),d({type:"Text",data:"",user:""})},variant:"contained",color:"secondary",size:"medium",fullWidth:!0,children:"Create"})]})]})})},Se=Object(g.a)({root:{paddingTop:20},box:{paddingLeft:30,paddingRight:30,paddingTop:8,paddingBottom:8,textAlign:"center",marginBottom:8,borderRadius:4,background:"#3F51B5",color:"white"},create_button:{paddingLeft:30,paddingRight:30,paddingTop:6,paddingBottom:6,textAlign:"center",marginBottom:8,borderRadius:4,background:"#4CAF50",color:"white"}});var Ee=Object($.b)((function(e){return{users:e.users,task:e.task,auth:e.auth}}),(function(e){return{loadUsers:function(){return e(function(){var e=Object(h.a)(p.a.mark((function e(t){var a,n,r,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=ve(),e.next=4,ye.a.get("".concat(le,"/user/all"),{headers:{token:a}});case 4:return n=e.sent,r=n.data.data,c=r.map((function(e){return{label:e.name,value:e._id}})),e.abrupt("return",t({type:fe,payload:c}));case 10:e.prev=10,e.t0=e.catch(0),xe(e.t0,t);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}())},editTask:function(t){return e(function(e){return function(){var t=Object(h.a)(p.a.mark((function t(a){var n;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n=ve(),a({type:je}),t.next=5,ye.a.post("".concat(le,"/task/edit"),e,{headers:{token:n}});case 5:a({type:be}),a({type:ue,payload:{type:"ok",text:"Task Edited successfully"}}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),xe(t.t0,a);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()}(t))},loadTasks:function(t){return e((a=t,function(){var e=Object(h.a)(p.a.mark((function e(t){var n,r,c,s,i,o,l;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:je}),n=ve(),e.next=5,ye.a.get("".concat(le,"/task"),{headers:{token:n}});case 5:r=e.sent,c=r.data.data,t({type:be}),s=c.filter((function(e){return e.user._id===a&&!e.deleted})),i=c.filter((function(e){return e.user._id===a&&e.deleted})),o=c.filter((function(e){return e.user._id!==a&&!e.deleted})),l=c.filter((function(e){return e.user._id!==a&&e.deleted})),t({type:he,payload:{myTask:s,myHistory:i,otherTask:o,otherHistory:l,data:c}}),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),xe(e.t0,t);case 19:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(t){return e.apply(this,arguments)}}()));var a},createTask:function(t){return e(function(e){return function(){var t=Object(h.a)(p.a.mark((function t(a){var n;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n=ve(),a({type:je}),t.next=5,ye.a.post("".concat(le,"/task"),e,{headers:{token:n}});case 5:a({type:be}),a({type:ue,payload:{type:"ok",text:"Task created successfully"}}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),xe(t.t0,a);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()}(t))},deleteTask:function(t){return e((a=t,function(){var e=Object(h.a)(p.a.mark((function e(t){var n,r,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=ve(),t({type:je}),e.next=5,ye.a.post("".concat(le,"/task/delete"),a,{headers:{token:n}});case 5:return e.next=7,ye.a.get("".concat(le,"/task"),{headers:{token:n}});case 7:r=e.sent,c=r.data.data,t({type:be}),t({type:pe}),t({type:ue,payload:{type:"ok",text:"Task Deleted successfully"}}),t({type:he,payload:c}),e.next=18;break;case 15:return e.prev=15,e.t0=e.catch(0),e.abrupt("return",xe(e.t0,t));case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t){return e.apply(this,arguments)}}()));var a},loadComments:function(t){return e((a=t,function(){var e=Object(h.a)(p.a.mark((function e(t){var n,r,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=ve(),t({type:je}),e.next=5,ye.a.get("".concat(le,"/comment/").concat(a),{headers:{token:n}});case 5:return r=e.sent,c=r.data.data,t({type:be}),e.abrupt("return",c);case 11:e.prev=11,e.t0=e.catch(0),xe(e.t0,t);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()));var a},createComment:function(t){return e(function(e){return function(){var t=Object(h.a)(p.a.mark((function t(a){var n;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,console.log(e),n=ve(),a({type:je}),t.next=6,ye.a.post("".concat(le,"/comment"),e,{headers:{token:n}});case 6:a({type:be}),a({type:ue,payload:{type:"ok",text:"Comment created successfully"}}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),xe(t.t0,a);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()}(t))}}}))((function(e){var t=e.loadUsers,a=e.users,r=e.createTask,c=e.task,s=e.loadTasks,o=e.deleteTask,l=e.auth,u=Se(),d=Object(n.useState)(!1),j=Object(O.a)(d,2),b=j[0],g=j[1],y=function(){return g(!1)},k=function(){var e=Object(h.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o(t);case 2:return e.next=4,s(l.user._id);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){a.data||t(),l.user&&!c.data&&s(l.user._id)}),[a,t,c.data,s,l.user]),Object(H.jsxs)(m.a,{maxWidth:"lg",children:[Object(H.jsx)(Ce,{users:a.data?a.data:[],open:b,onClose:y,createTask:function(e){y();var t=localStorage.getItem("TOKEN"),a=JSON.parse(t).user,n=new FormData;n.append("data",e.data),n.append("type",e.type),n.append("user",a._id),n.append("assignedUser",e.user),r(n).then((function(){return s(l.user._id)}))}}),Object(H.jsxs)(f.a,{container:!0,justify:"center",spacing:3,style:{paddingTop:12},children:[Object(H.jsxs)(f.a,{item:!0,md:3,children:[Object(H.jsxs)("div",{className:u.box,children:[Object(H.jsx)(x.a,{variant:"h6",children:"My Tasks"}),Object(H.jsx)(x.a,{variant:"subtitle2",children:"Tasks created by logged user"})]}),Object(H.jsx)(v.a,{onClick:function(){return g(!0)},fullWidth:!0,className:u.create_button,variant:"contained",children:"Create"}),c.myTask&&c.myTask.map((function(t){return Object(H.jsx)(X,Object(i.a)(Object(i.a)({deleteTask:k},t),e),t._id)}))]}),Object(H.jsxs)(f.a,{item:!0,md:3,children:[Object(H.jsxs)("div",{className:u.box,children:[Object(H.jsx)(x.a,{variant:"h6",children:"My History"}),Object(H.jsx)(x.a,{variant:"subtitle2",children:"History of logged user"})]}),c.myHistory&&c.myHistory.map((function(e,t){return Object(H.jsx)(X,Object(i.a)({},e),t)}))]}),Object(H.jsxs)(f.a,{item:!0,md:3,children:[Object(H.jsxs)("div",{className:u.box,children:[Object(H.jsx)(x.a,{variant:"h6",children:"Other Tasks"}),Object(H.jsx)(x.a,{variant:"subtitle2",children:"Tasks created by other users"})]}),c.otherTask&&c.otherTask.map((function(t){return Object(H.jsx)(X,Object(i.a)(Object(i.a)({deleteTask:k},t),e),t._id)}))]}),Object(H.jsxs)(f.a,{item:!0,md:3,children:[Object(H.jsxs)("div",{className:u.box,children:[Object(H.jsx)(x.a,{variant:"h6",children:"Other History"}),Object(H.jsx)(x.a,{variant:"subtitle2",children:"History of other users"})]}),c.otherHistory&&c.otherHistory.map((function(e,t){return Object(H.jsx)(X,Object(i.a)({},e),t)}))]})]})]})})),_e=a(67),Ie=a(98),De=a.n(Ie),Ae=Object(g.a)({root:{padding:20,margin:"auto",textAlign:"center"},input:{marginBottom:8},icon:{width:100,height:100,fontSize:100}});var Le=Object($.b)(null,(function(e){return{doLogin:function(t){return e(function(e){var t=e.state,a=e.history;return function(){var e=Object(h.a)(p.a.mark((function e(n){var r,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n({type:je}),e.next=4,ye.a.post("".concat(le,"/auth/login"),t);case 4:return r=e.sent,c=r.data,localStorage.setItem("TOKEN",JSON.stringify(c)),n({type:be}),n({type:Oe,payload:c}),e.abrupt("return",a.push("/"));case 12:e.prev=12,e.t0=e.catch(0),xe(e.t0,n);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}()}(t))}}}))((function(e){var t=e.doLogin,a=e.history,r=Ae(),c=Object(n.useState)({email:"",password:""}),s=Object(O.a)(c,2),l=s[0],u=s[1],d=function(e){return u(Object(i.a)(Object(i.a)({},l),{},Object(ke.a)({},e.target.name,e.target.value)))};return Object(H.jsx)(f.a,{container:!0,justify:"center",children:Object(H.jsx)("div",{style:{height:"85vh",display:"flex",flexDirection:"column",justifyContent:"center"},children:Object(H.jsx)(f.a,{item:!0,md:8,sm:8,xs:10,style:{margin:"auto"},children:Object(H.jsxs)(_e.a,{className:r.root,elavation:3,children:[Object(H.jsx)(De.a,{className:r.icon}),Object(H.jsx)(x.a,{style:{marginBottom:20},variant:"h3",children:"Login"}),Object(H.jsx)(D.a,{fullWidth:!0,value:l.email,size:"small",variant:"outlined",name:"email",type:"email",className:r.input,onChange:d,label:"Enter email"}),Object(H.jsx)(D.a,{fullWidth:!0,value:l.password,size:"small",variant:"outlined",name:"password",type:"password",className:r.input,onChange:d,label:"Enter password"}),Object(H.jsx)(v.a,{onClick:function(){return t({state:l,history:a})},fullWidth:!0,color:"secondary",variant:"contained",size:"medium",children:"Login"}),Object(H.jsx)(o.b,{to:"/register",children:Object(H.jsx)(x.a,{variant:"subtitle1",children:"Don't have an account? Click here"})})]})})})})})),Be=a(99),We=a.n(Be),ze=Object(g.a)({root:{padding:20,margin:"auto",textAlign:"center"},input:{marginBottom:8},icon:{width:100,height:100,fontSize:100}});var He=[{path:"/",component:Ee,exact:!0},{path:"/login",component:Le,exact:!0},{path:"/register",component:Object($.b)(null,(function(e){return{doRegister:function(t){return e(function(e){var t=e.state,a=e.history;return function(){var e=Object(h.a)(p.a.mark((function e(n){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n({type:je}),e.next=4,ye.a.post("".concat(le,"/auth/register"),t);case 4:return n({type:be}),n({type:ue,payload:{type:"ok",text:"Registration success"}}),e.abrupt("return",a.push("/login"));case 9:e.prev=9,e.t0=e.catch(0),xe(e.t0,n);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()}(t))}}}))((function(e){var t=e.doRegister,a=e.history,r=ze(),c=Object(n.useState)({name:"",email:"",password:""}),s=Object(O.a)(c,2),l=s[0],u=s[1],d=function(e){return u(Object(i.a)(Object(i.a)({},l),{},Object(ke.a)({},e.target.name,e.target.value)))};return Object(H.jsx)(f.a,{container:!0,justify:"center",children:Object(H.jsx)("div",{style:{height:"85vh",display:"flex",flexDirection:"column",justifyContent:"center"},children:Object(H.jsx)(f.a,{item:!0,md:6,sm:6,xs:10,style:{margin:"auto"},children:Object(H.jsxs)(_e.a,{className:r.root,elavation:3,children:[Object(H.jsx)(We.a,{className:r.icon}),Object(H.jsx)("br",{}),Object(H.jsx)(x.a,{style:{marginBottom:20},variant:"h3",children:"Register"}),Object(H.jsx)(D.a,{fullWidth:!0,value:l.name,size:"small",variant:"outlined",name:"name",type:"text",className:r.input,onChange:d,label:"Enter name"}),Object(H.jsx)(D.a,{fullWidth:!0,value:l.email,size:"small",variant:"outlined",name:"email",type:"email",className:r.input,onChange:d,label:"Enter email"}),Object(H.jsx)(D.a,{fullWidth:!0,value:l.password,size:"small",variant:"outlined",name:"password",type:"password",className:r.input,onChange:d,label:"Enter password"}),Object(H.jsx)(v.a,{fullWidth:!0,onClick:function(){return t({state:l,history:a})},color:"secondary",variant:"contained",size:"medium",children:"Register"}),Object(H.jsx)(o.b,{to:"/login",children:Object(H.jsx)(x.a,{variant:"subtitle1",children:"Already have an account? Click here"})})]})})})})})),exact:!0}],Fe=a(204),Re=a(205),Ge=a(206),Ke=a(207),Ue=a(208),Me=Object(g.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1,color:"white",textDecoration:"none"},links:{textDecoration:"none",color:"white"},avatar:{background:"black",color:"white"}}}));var Je=Object($.b)((function(e){return{auth:e.auth}}),(function(e){return{doLogout:function(t){return e(function(e){return function(t){return localStorage.removeItem("TOKEN"),t({type:me}),e.push("/login")}}(t))}}}))((function(e){var t=e.children,a=e.doLogout,n=e.auth,r=n.isAuthenticated,c=n.user,s=Me(),i=Object(l.g)();return Object(H.jsxs)("div",{className:s.root,children:[Object(H.jsx)(Fe.a,{position:"static",children:Object(H.jsxs)(Re.a,{style:{background:"#FF5722"},children:[Object(H.jsx)(o.b,{to:"/",className:s.title,children:Object(H.jsx)(x.a,{variant:"h6",children:"Task Manager"})}),r?Object(H.jsxs)(H.Fragment,{children:[Object(H.jsx)(v.a,{onClick:function(){return a(i)},className:s.links,startIcon:Object(H.jsx)(Ue.a,{}),color:"inherit",children:"Logout"}),Object(H.jsx)(w.a,{className:s.avatar,children:c&&U(c.name)})]}):Object(H.jsxs)(H.Fragment,{children:[Object(H.jsx)(o.b,{to:"/login",className:s.links,children:Object(H.jsx)(v.a,{startIcon:Object(H.jsx)(Ge.a,{}),color:"inherit",children:"Login"})}),Object(H.jsx)(o.b,{to:"/register",className:s.links,children:Object(H.jsx)(v.a,{startIcon:Object(H.jsx)(Ke.a,{}),color:"inherit",children:"Register"})})]})]})}),t]})})),Pe=a(103),Ve=["component","location","auth"],qe=Object($.b)((function(e){return{auth:e.auth}}))((function(e){var t=e.component,a=e.location.pathname,n=e.auth.isAuthenticated,r=Object(Pe.a)(e,Ve);return Object(H.jsx)(H.Fragment,{children:"/login"===a||"/register"===a?Object(H.jsx)(l.b,Object(i.a)(Object(i.a)({},r),{},{render:function(e){return localStorage.getItem(R)&&n?Object(H.jsx)(l.a,{to:"/"}):Object(H.jsx)(t,Object(i.a)({},e))}})):Object(H.jsx)(l.b,Object(i.a)(Object(i.a)({},r),{},{render:function(e){return localStorage.getItem(R)||n?Object(H.jsx)(t,Object(i.a)({},e)):Object(H.jsx)(l.a,{to:"/login"})}}))})}));var Qe=Object($.b)((function(e){return{message:e.message}}),(function(e){return{closeMessage:function(){return e((function(e){return e({type:de})}))},checkLogin:function(){return e((function(e){var t=localStorage.getItem("TOKEN");if(t){var a=JSON.parse(t).user;e({type:Oe,payload:{user:a}})}}))}}}))((function(e){var t=e.message,a=e.closeMessage,r=e.checkLogin;return Object(n.useEffect)((function(){r()}),[r]),Object(H.jsx)(n.Suspense,{fallback:Object(H.jsx)(te,{open:!0}),children:Object(H.jsx)(o.a,{children:Object(H.jsxs)(u.a,{theme:j,children:[Object(H.jsx)(te,{}),Object(H.jsx)(oe,{onClose:a,open:t.open,type:t.type,text:t.text}),Object(H.jsx)(Je,{children:Object(H.jsx)(l.d,{children:He.map((function(e,t){return Object(H.jsx)(qe,Object(i.a)({},e),t)}))})})]})})})})),Xe=a(54),Ye=a(100),Ze={token:localStorage.getItem(R),isAuthenticated:null,loading:!0,user:null};var $e={data:null,myTask:[],myHistory:[],otherTask:[],otherHistory:[]};var et=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0,a=t.type;switch(a){case je:return!0;case be:return!1;default:return e}},tt={open:!1,type:null,text:null},at=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tt,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case ue:return Object(i.a)(Object(i.a)({},e),{},{open:!0},n);case de:return Object(i.a)(Object(i.a)({},e),{},{open:!1});default:return e}},nt={data:null};var rt=Object(Xe.b)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ze,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case Oe:return Object(i.a)(Object(i.a)({},e),{},{isAuthenticated:!0,user:n.user});case me:return Object(i.a)(Object(i.a)({},e),{},{isAuthenticated:null,loading:!0,user:null});default:return e}},task:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$e,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case he:return Object(i.a)(Object(i.a)({},e),n);case pe:case me:return Object(i.a)(Object(i.a)({},e),{},{data:null,myTask:[],myHistory:[],otherTask:[],otherHistory:[]});default:return e}},loading:et,message:at,users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nt,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case fe:return Object(i.a)(Object(i.a)({},e),{},{data:n});case me:return{data:null};default:return e}}});var ct=function(){var e=Object(Xe.a)(Ye.a);return Object(Xe.c)(e)}(),st=Object(Xe.d)(rt,{},ct);var it=function(){return Object(H.jsx)($.a,{store:st,children:Object(H.jsx)(Qe,{})})},ot=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,217)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;a(e),n(e),r(e),c(e),s(e)}))};s.a.render(Object(H.jsx)(it,{}),document.getElementById("root")),ot()}},[[146,1,2]]]);
//# sourceMappingURL=main.73b75367.chunk.js.map